<!DOCTYPE html>
<html>
  <head>
    <title>Scientific Programming</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.49.2" />
<title>Software Engineering in Science :: Scientific Programming</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/scientific-programming.github.io";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/introduction/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="https://scientific-programming.github.io">Scientific Programming</a>
  
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>




  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/scientific-programming"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://gohugo.io/"  rel="noopener">
                  <i class='fa fa-bookmark'></i> <label>Hugo Documentation</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Credits</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/introduction/" class="dd-item parent active
        ">
      <div>
      <a href="/introduction/">Software Engineering in Science</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/version-control/" class="dd-item
        ">
      <div>
      <a href="/version-control/">Version Control</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/containers/" class="dd-item haschildren
        ">
      <div>
      <a href="/containers/">Containers</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/containers/tutorial/" class="dd-item">
        <div>
          <a href="/containers/tutorial/">
            Getting Started with Docker
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/testing/" class="dd-item haschildren
        ">
      <div>
      <a href="/testing/">Testing Scientific Code</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/testing/simple-tests/" class="dd-item">
        <div>
          <a href="/testing/simple-tests/">
            Writing Simple Tests
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/testing/complex-tests/" class="dd-item">
        <div>
          <a href="/testing/complex-tests/">
            Writing Complex Tests
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/testing/continuous-integration/" class="dd-item">
        <div>
          <a href="/testing/continuous-integration/">
            Continuous Integration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/testing/writing-tests/" class="dd-item">
        <div>
          <a href="/testing/writing-tests/">
            Writing Tests
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/documentation/" class="dd-item haschildren
        ">
      <div>
      <a href="/documentation/">Documentation</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/documentation/generating-docs/" class="dd-item">
        <div>
          <a href="/documentation/generating-docs/">
            Generating Docs
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/documentation/generating-sphinx/" class="dd-item">
        <div>
          <a href="/documentation/generating-sphinx/">
            Generating documentation with Sphinx
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/documentation/writing-docs/" class="dd-item">
        <div>
          <a href="/documentation/writing-docs/">
            Sphinx: Python documentation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/cheatsheet/" class="dd-item
        ">
      <div>
      <a href="/cheatsheet/">Command Cheatsheet</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/introduction/"  selected>
   Software Engineering in Science</option> 
  
    <option value="/version-control/" >
   Version Control</option>
    <option value="/containers/" >
   Containers</option>
    <option value="/testing/" >
   Testing Scientific Code</option>
    <option value="/documentation/" >
   Documentation</option>
    <option value="/cheatsheet/" >
   Command Cheatsheet</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/scientific-programming.github.io";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>Software Engineering in Science</h1>
    
    
    



<h2 id="why-is-it-needed">Why is it needed?</h2>

<p>The expectation is that your scientific code must be error free, within reason. However, there are many places where errors can creep in, and in general, scientists do not perform basic software engineering techniques which are designed to minimise &ldquo;stupid&rdquo; mistakes. Sources of errors can either be conceptual - a mistake in understanding of the theory - or in the implementation of the software used to solve problems. Here, we&rsquo;re going to focus on the mistakes that come in from implementation issues, which really, are the easier ones to deal with. Let&rsquo;s try and think about the issues that might happen when when things go wrong with software, both scientific and general.</p>

<p>There are a number of high profile examples which can illustrate for us the issues that might occur from coding errors.</p>

<h3 id="geoffrey-chang">Geoffrey Chang</h3>

<p><img src="chang_jeff.jpg" alt="Geoffrey Chang" /></p>

<p>Geoffrey Chang and coauthors published a series of papers in high profile journals which attempted to determine the structure of molecules through analysing X-Ray crystallography data. The research groups papers were very highly cited and influential. However, in 2006 Kasper Locher performed a similar technique to Chang to determine the structure for what should have been a similar crystal to one studied by Chang&rsquo;s group. Instead, he found a 180&deg; flip in the orientation of one helix, which suggested that the results were incorrect. Chang went back and looked at his software, and realised that two columns of data had been accidentally transposed, which resulted in the signs of charges in the molecular structure being flipped. In total, this led to retraction of 6 papers, and around five years of work.</p>

<p>You can read more about the impact of this <a href="https://dx.doi.org/10.1126/science.314.5807.1856">here</a>.</p>

<h3 id="reinhart-and-rogoff">Reinhart and Rogoff</h3>

<p>Two economists, Reinhart and Rogoff published an influential paper \&ldquo;Growth in a time of Debt\&rdquo; on the topic of government debt to gross domestic product ratios.
The results from their study showed that growth declined once the ratio reached around 60%, the growth in countries historically had begun to decline.
The paper was notable for it&rsquo;s use in political circles; it was cited by government figues in the UK, EU and US as the basis for reducing government spending.</p>

<p>A PhD student in the US, Herndon, struggled to reproduce the results of the study, and eventually contacted the original authors of the paper requesting the non-public data that the study was based on.
The authors passed this on, but Herndon and found a number of spreadsheet errors which meant that certain countries were not included in the historical data. On inclusion of these countries, the results from the paper still showed a decline in growth, but one which was substantially lower than as originally presented.</p>

<p><img src="reinhart.png" alt="Reinhart and Rogoff BBC Article" /></p>

<h3 id="ariane-5-rocket-launch-1996">Ariane 5 Rocket Launch 1996</h3>

<p>The launch of the first Ariane 5 rocket was a 10 year development and a $7 Billion cost for the European Space Agency. On the first test launch in June 1996 the trajectory of the rocket went of course 37 seconds in and
the self destruct mechanism kicked in.</p>

<div style='width: 507px; height: 380px; margin: auto;'>
<iframe width="507" height="380" src="https://www.youtube.com/embed/gp_D8r-2hwk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
</div>

<p>Investigations found that the inertial reference system had software bug, which was caused by the conversion of a 64-bit float containing the velocity into a 16-bit integer, and this caused an integer overflow. It turned out that this calculation was not even necessary on the Ariane 5, and had been inherited from software on the Ariane 4, but because this rocket reached much higher speeds, the rocket attempted to make correction for altitude deviation which hadn&rsquo;t happened.</p>

<p>This was a particularly expensive mistake!</p>

<h3 id="supercooled-water">Supercooled Water</h3>

<p><img src="supercooled-water-1.png" alt="Supercooled Water War" />
<a href="https://physicstoday.scitation.org/do/10.1063/PT.6.1.20180822a/full/">Very recent case</a> - but went on for years. Researchers had conflicting results in simulations of supercooled water. Eventually, one group published all of their research software, which put pressure on the other group to do so. When they eventually did, it was found that they were using a very unconventional method of initialising their molecular dynamics simulations, which led to the spurious results.</p>

<h3 id="nhs-connecting-for-health">NHS Connecting for Health</h3>

<p><img src="NHS.gif" alt="NHS Connecting for Health logo" /></p>

<p>Stepping away from scientific software bugs, let&rsquo;s look at how poor software design and oversight may hamper a different type of large software project, even when professional software developers are the ones writing it. It may surprise you to find out that in the UK, there is no national database of patient records. If you go to A&amp;E on a Saturday night unconscious, in general, doctors will not be able to see your medical records until the Monday morning when your GP opens again.</p>

<p>In 2002, Tony Blair&rsquo;s Labour government decided to rectify this, and in 2003 and 2004 awarded contracts to Accenture, Fujitsu, BT Health and Computer Sciences Corporation between 2002 and 2004, which the intention of building a complex set of regional systems which could integrate with one another. The initial projected timescale for this project was three years. The proposed system had an expected cost 2.3 Billion and would have been the biggest government IT project in the world.</p>

<p>The scheme was eventually cancelled in 2011 but 16 years later costs from fallout of this project are still escalating - currently at over £20 billion. Compare this, for example, to the UK budget which in 2018 is 5 billion. A government report &ldquo;Government and IT - a recipe for rip offs&rdquo; in 2011 blamed <strong>lack of in-house technical knowledge</strong> and a <strong>tendency to build large complex projects that cannot adapt to changing requirements</strong>.</p>

<h3 id="more-examples">More examples</h3>

<ul>
<li>A <a href="https://www.cio.com/article/2393212/agile-development/software-testing-lessons-learned-from-knight-capital-fiasco.html">trading glitch</a> cost Knight Capital $440 Million dollars in 30 minutes.</li>
<li>The Therac-25 Radiation Therapy machine bug <a href="https://hackaday.com/2015/10/26/killed-by-a-machine-the-therac-25/">killed 4 patients and injured two others because of integer overflow</a> in software written by a single programmer.</li>
<li>In 1998 the <a href="https://en.wikipedia.org/wiki/Mars_Climate_Orbiter">Mars Climate Orbiter</a> crashed because of imperial vs metric units in interface between software.</li>
<li><a href="https://en.wikipedia.org/wiki/Year_2000_problem">Y2K</a> was caused by 32-bit integer commonly used to store dates overflowing. <a href="https://en.wikipedia.org/wiki/Year_2038_problem">(Upcoming again in 2038&hellip;)</a></li>
<li>A 1999 Study on suicides after natural disasters counted deaths in one year twice and <a href="https://www.nejm.org/doi/full/10.1056/NEJM199901143400213">had to be retracted.</a>
*</li>
</ul>

<h2 id="what-are-the-implications-of-badly-written-software">What are the implications of badly written software?</h2>

<ul>
<li>It&rsquo;s clear that complex systems are very hard to get right. This means that starting out when writing a programme is usually not the best way of approaching it - take some time to plan.</li>
<li>Getting things wrong for you means bad science and a damaged career. If you have to retract some work because of what amounts to carelessness, you&rsquo;re going to be known in your field for getting it wrong, and it will take a lot of work to recover your reputation. <a href="http://retractiondatabase.org/">Retractions are also becoming more visible!</a></li>
<li>If you work on large projects it can mean huge costs in time and money if you have to redo analysis.</li>
<li>Poorly designed software is just as bad as bugs in well designed software!</li>
</ul>

<h2 id="what-should-we-draw-from-this">What should we draw from this?</h2>

<ul>
<li>Clear that even professional software developers can get it wrong.</li>
<li>Scientists in particular are not generally good programmers and are mostly self taught.</li>
<li>Scientists do not have the resources to use all of the techniques from industry to avoid problems.</li>
</ul>

<h2 id="reproducibility-and-repeatability">Reproducibility and Repeatability</h2>

<ul>
<li><strong>Reproducibility - Gaining results which are close in agreement using the same methodology described</strong></li>
<li>Key concept of the scientific method</li>
<li><strong>Often scientific papers cannot be reproduced</strong> solely from the paper alone.</li>
<li>How many of you have ever struggled to reproduce a result from a computational paper?</li>
<li>Often this comes from inherent assumptions in modelling which are not discussed in the research literature itself.</li>
<li>Very challenging to write a paper which is complete.</li>
<li>Large and well discussed \&ldquo;reproducibility crisis\&rdquo;</li>
</ul>

<h3 id="a-changing-landscape">A Changing Landscape?</h3>

<p>Think now about the requirements you&rsquo;re being asked to meet for research in the UK. As EPSRC funded researchers, you are already required to:
* Deposit the accepted manuscript in an institutional repository so that they are openly accessible within 3 months of acceptance.
* All of your research data must now <a href="https://epsrc.ukri.org/about/standards/researchdata/expectations/">be made public and be available for up to 10 years after the last 3rd party access</a>.</p>

<p>You need to care about these things if you want to stay in academia, because if you don&rsquo;t meet the requirements, your publications are not countable towards REF, which directly impacts your career path. The motivations behind these policies is that as publicly funded researchers, the general public should be able to access information you produce (with some exceptions on national security or data privacy grounds).</p>

<p>Moving on from funder requirements, we need to look at what publishers are starting to demand. It is becoming increasingly necessary for you to release the source code that generates your publications. See, for example, Nature Publishing Group&rsquo;s <a href="https://www.nature.com/documents/GuidelinesCodePublication.pdf">publication guidelines</a>, which are moving in this direction. Where high quality journals start, others will follow! Looking at one particularly odd example, <a href="http://www.sciencemag.org/news/2015/11/paper-retracted-after-scientist-bans-use-his-software-countries-welcome-refugees">a 2004 paper was retracted from BMC Evolutionary Biology</a> after the author refused to let scientists from countries admitting refugees use of the software, as this breached the journal&rsquo;s guidelines on software availability.</p>

<p>The other thing to note is that other scientists - and not just funders and publishers - are becoming more demanding regarding access to software, which the
recognition that complex software is often not described adequately in research papers, making the results irreproducible. Government funded organisations such as the <a href="https://www.software.ac.uk/">Software Sustainability Institute</a> are actively pushing for more research code to be made open and maintainable, and provide training. There is now a whole new career path for <a href="https://rse.ac.uk/">&lsquo;Research Software Engineers&rsquo;</a> - usually former academics with strong software skills, who can provide training to academics and who are included on grant applications to work on making the research software used maintainable.</p>

<h3 id="what-will-this-course-teach-you">What will this course teach you?</h3>

<p>Everything in the following courses is designed to make it easier for you to writing good software. In the software industry these just some starting points from which all else follows. If you are not doing any one of these things (with the exception of containerisation), you are almost certainly not writing good software. The main point is that scientific software is not some special case - it is just as complex as software in industry, where all of these are standard practice.</p>



    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/" title="Homepage"> <i class="fa fa-chevron-left"></i><label>Homepage</label></a>
    <a class="nav nav-next" href="/version-control/" title="Version Control" style="margin-right: 0px;"><label>Version Control</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
    <div class="github-link">
      <a href="https://github.com/vjeantet/hugo-theme-docdock/edit/master/exampleSite/content/introduction/_index.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    Create a content/_footer.md file to customize the footer content
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>
<!DOCTYPE html>
<html>
  <head>
    <title>Scientific Programming</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.49.2" />
<title>Containers :: Scientific Programming</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/scientific-programming.github.io";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/containers/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="https://scientific-programming.github.io">Scientific Programming</a>
  
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>




  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/scientific-programming"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://gohugo.io/"  rel="noopener">
                  <i class='fa fa-bookmark'></i> <label>Hugo Documentation</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Credits</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/introduction/" class="dd-item
        ">
      <div>
      <a href="/introduction/">Software Engineering in Science</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/containers/" class="dd-item parent active haschildren
        ">
      <div>
      <a href="/containers/">Containers</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/containers/tutorial1/" class="dd-item">
        <div>
          <a href="/containers/tutorial1/">
            Setting up the Software
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/containers/tutorial2/" class="dd-item">
        <div>
          <a href="/containers/tutorial2/">
            Getting Started with Docker
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/containers/tutorial3/" class="dd-item">
        <div>
          <a href="/containers/tutorial3/">
            Saving and Sharing Images
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/version-control/" class="dd-item haschildren
        ">
      <div>
      <a href="/version-control/">Version Control</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/version-control/tutorial1/" class="dd-item">
        <div>
          <a href="/version-control/tutorial1/">
            Getting Started
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/version-control/tutorial2/" class="dd-item">
        <div>
          <a href="/version-control/tutorial2/">
            GitHub and Collaborating
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/version-control/tutorial3/" class="dd-item">
        <div>
          <a href="/version-control/tutorial3/">
            Discarding Temporary Changes
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/documentation/" class="dd-item haschildren
        ">
      <div>
      <a href="/documentation/">Documentation</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/documentation/generating-docs/" class="dd-item">
        <div>
          <a href="/documentation/generating-docs/">
            Documenting Code
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/documentation/generating-sphinx/" class="dd-item">
        <div>
          <a href="/documentation/generating-sphinx/">
            Generating documentation webpages with Sphinx
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/testing/" class="dd-item haschildren
        ">
      <div>
      <a href="/testing/">Testing Scientific Code</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/testing/simple-tests/" class="dd-item">
        <div>
          <a href="/testing/simple-tests/">
            Writing Simple Tests
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/testing/complex-tests/" class="dd-item">
        <div>
          <a href="/testing/complex-tests/">
            Writing More Complex Tests
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/testing/continuous-integration/" class="dd-item">
        <div>
          <a href="/testing/continuous-integration/">
            Continuous Integration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/cheatsheet/" class="dd-item
        ">
      <div>
      <a href="/cheatsheet/">Command Cheatsheet</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/introduction/" >
   Software Engineering in Science</option>
    <option value="/containers/"  selected>
   Containers</option> 
      <option value="/containers/tutorial1/" >- Setting up the Software</option>
      <option value="/containers/tutorial2/" >- Getting Started with Docker</option>
      <option value="/containers/tutorial3/" >- Saving and Sharing Images</option>
  
    <option value="/version-control/" >
   Version Control</option>
    <option value="/documentation/" >
   Documentation</option>
    <option value="/testing/" >
   Testing Scientific Code</option>
    <option value="/cheatsheet/" >
   Command Cheatsheet</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/scientific-programming.github.io";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>Containers</h1>
    
    
    



<h3 id="what-are-containers">What are containers?</h3>

<p>Containers provide a mechanism for setting up an environment with many software dependencies. They can be simple, with a limited number of simple programmes installed, or can be used to set up complex software. In addition, they allow software from different operating systems to be used natively; an Ubuntu package could be used on a RHEL Linux system without any issues.</p>

<p>Users write scripts in a simple standardised way, and this is primarily bundled with the project, and passed on to other developers in order to give them the same environment to work from when developing software. A built container can also be hosted online freely, which is useful when building the dependencies takes a long time.</p>

<p>These features might seem familiar if you&rsquo;ve come across Virtual Machines in the past. The primary advantage of containers is that they do not incur the performance penalty that virtual machines do, if they are run on a Linux operating system (in general).</p>

<h3 id="what-are-containers-not">What are containers not?</h3>

<p>Containers are not always a great way to <em>distribute</em> scientific software to people who are going to use it, particularly when the code is compiled. This is because hardware variances mean that software has generally got to be compiled for the oldest possible machine it could be used for. This means that for optimal performance, multiple versions of the same container need to be compiled. This is particularly important when running high performance software which runs on supercomputers.</p>

<p>Because of this, making your code run in a container is not &lsquo;enough&rsquo; to distribute software; it is still necessary to make a comprehensive list of the dependencies necessary to run the software, with versions. However, it takes the pain out of having multiple developers working in different environments which what may prove to be incompatible versions of dependencies. It also should not be used as a way of avoiding updating scientific software because it now runs everywhere.</p>

<div class="panel panel-info">
	<div class="panel-heading">Terminology</div>
	<div class="panel-body"><ul>
<li>Host - A physical computer running VM/container.</li>
<li>Container - An operating system level virtualised environment in which software is installed.</li>
<li>Image - A container which has been saved to a file.</li>
<li>Hypervisor - The software which runs a virtual machine.</li>
<li>Kernel - Core OS components and functions.</li>
</ul>
</div>
	
</div>


<h3 id="comparisons-with-virtual-machines">Comparisons with Virtual Machines</h3>

<p>As mentioned before, despite not being virtual machines, containers act like them in many ways.</p>

<h4 id="how-are-containers-like-vms">How are containers like VMs?</h4>

<ul>
<li><em>Isolated environment</em> - Processes run isolated from other processes -
they can’t access hardware resources they aren’t allocated.</li>
<li><em>They are independent</em> - Generally you can be given a container image or
a virtual machine image and use that to run a piece of software without
doing anything else.</li>
</ul>

<h3 id="how-are-containers-not-like-vms">How are containers not like VMs?</h3>

<ul>
<li><p><em>They use Kernel features of the host</em> - Linux supports process and
resource partitioning and isolation (cgroups, OverlayFS, kernel
namespacing), which allows containers to use a subset of resources. If you&rsquo;re really
interested in the underlying mechanism by which Docker works, have a look <a href="https://docs.google.com/presentation/d/10vFQfEUvpf7qYyksNqiy-bAxcy-bvF0OnUElCOtTTRc/edit?usp=sharing">here</a></p></li>

<li><p><em>VMs require a Hypervisor</em> - The hypervisor is a software based
emulation layer for computer hardware and so it is generally slower
running software in a VM than natively, even with Intel Vf-X, Sun
GridEngine. Free hypervisors slow; commercial ones are expensive! VirtualBox
is common free one; VMWare Workstation is a commercial one.</p></li>

<li><p><em>Generally containers are used in command-line only</em> - With VMs it is very easy
to get a full desktop environment. With containers this is more difficult.
If we have time, may show a demo of this.</p></li>

<li><p><em>They take up much less space</em> - Virtual Machines have to bundle the whole operating system,
including components which would be the same on the host system. Containers, by virtue of using the
host system&rsquo;s kernel (at least on Linux), can therefore take up much less room.</p></li>
</ul>

<h3 id="potential-use-cases-for-containers-as-a-scientist">Potential Use Cases for Containers as a Scientist</h3>

<p>Consider the following, which are all valid use cases:</p>

<ul>
<li><p>A new PhD student joins your lab. He isn&rsquo;t an experienced programmer, and setting
him up with all of the dependencies will take some time. Using a container means he can
get <em>all</em> of the dependencies and a copy of the software working on his computer in minutes.</p></li>

<li><p>An old piece of software runs fine on Ubuntu, but a colleague hasn&rsquo;t been able to install
a necessary package because it&rsquo;s not available on Windows which is what he uses.</p></li>

<li><p>You&rsquo;ve just been given an Microsoft Azure Academic Grant, and you now want to run thousands of
copies of your research software in the cloud, and you want to avoid a complicated install process.</p></li>

<li><p>You have a data analysis script that chugs away on your desktop for every set of simulation data you produce.
However, you run thousands of simulations per week, and the data analysis script takes some time to run. You might install
this script into a container, and use that as the basis for running the data analysis on a large cluster.</p></li>
</ul>



    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/introduction/" title="Software Engineering in Science"> <i class="fa fa-chevron-left"></i><label>Software Engineering in Science</label></a>
    <a class="nav nav-next" href="/containers/tutorial1/" title="Setting up the Software" style="margin-right: 0px;"><label>Setting up the Software</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    
    <div class="date">
        <i class='fa fa-calendar'></i> Last update on 26/10/2018
    </div>
    

    
    <div class="github-link">
      <a href="https://github.com/vjeantet/hugo-theme-docdock/edit/master/exampleSite/content/containers/_index.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    Create a content/_footer.md file to customize the footer content
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>
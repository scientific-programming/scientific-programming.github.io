<!DOCTYPE html>
<html>
  <head>
    <title>Scientific Programming</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.49.2" />
<title>Version Control :: Scientific Programming</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "https:\/\/scientific-programming.github.io";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/version-control/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="https://scientific-programming.github.io">Scientific Programming</a>
  
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>




  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/scientific-programming"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github repo</label>
                </a>
            </li>
            <li class="" role="">
                <a href="https://gohugo.io/"  rel="noopener">
                  <i class='fa fa-bookmark'></i> <label>Hugo Documentation</label>
                </a>
            </li>
            <li class="" role="">
                <a href="/credits"  rel="noopener">
                  <i class='fa fa-bullhorn'></i> <label>Credits</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/introduction/" class="dd-item
        ">
      <div>
      <a href="/introduction/">Software Engineering in Science</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/version-control/" class="dd-item parent active
        ">
      <div>
      <a href="/version-control/">Version Control</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/containers/" class="dd-item haschildren
        ">
      <div>
      <a href="/containers/">Containers</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/containers/tutorial/" class="dd-item">
        <div>
          <a href="/containers/tutorial/">
            Getting Started with Docker
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/testing/" class="dd-item haschildren
        ">
      <div>
      <a href="/testing/">Testing Scientific Code</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/testing/simple-tests/" class="dd-item">
        <div>
          <a href="/testing/simple-tests/">
            Writing Simple Tests
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/testing/complex-tests/" class="dd-item">
        <div>
          <a href="/testing/complex-tests/">
            Writing Complex Tests
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/testing/continuous-integration/" class="dd-item">
        <div>
          <a href="/testing/continuous-integration/">
            Continuous Integration
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/testing/writing-tests/" class="dd-item">
        <div>
          <a href="/testing/writing-tests/">
            Writing Tests
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/documentation/" class="dd-item haschildren
        ">
      <div>
      <a href="/documentation/">Documentation</a><i class="fa fa-angle-right fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/documentation/generating-docs/" class="dd-item">
        <div>
          <a href="/documentation/generating-docs/">
            Generating Docs
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/documentation/generating-sphinx/" class="dd-item">
        <div>
          <a href="/documentation/generating-sphinx/">
            Generating documentation with Sphinx
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/documentation/writing-docs/" class="dd-item">
        <div>
          <a href="/documentation/writing-docs/">
            Sphinx: Python documentation
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/introduction/" >
   Software Engineering in Science</option>
    <option value="/version-control/"  selected>
   Version Control</option> 
  
    <option value="/containers/" >
   Containers</option>
    <option value="/testing/" >
   Testing Scientific Code</option>
    <option value="/documentation/" >
   Documentation</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="Search...">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "https:\/\/scientific-programming.github.io";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>Version Control</h1>
    
    
    



<h3 id="what-is-version-control">What is Version Control?</h3>

<p>Simply put, it&rsquo;s a way of keeping old versions of your software or documents. If you&rsquo;ve ever worked in a business environment, you might be familiar with Microsoft SharePoint, and the concepts of checking in and out documents. This is an example of version control. Here, however, we&rsquo;re going to teach you how to use Git, which is a more general purpose version control software. There are alternatives (Mercurial and SVN), but Git seems to have become particularly popular with the launch of the site GitHub.</p>

<h3 id="why-is-it-useful">Why is it useful?</h3>

<p><img src="vc-comic.gif" alt="PhD Comic on Versioning of Documents" /></p>

<p>1) Open your terminal, or Git Bash.</p>

<p>2) Set your name and username with Git. This labels things you do and
associates them with you!</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git config --global user.name <span style="color:#d88200">&#34;Ryan Pepper&#34;</span>
git config --global user.email <span style="color:#d88200">&#34;ryan.pepper@soton.ac.uk&#34;</span></code></pre></div>
<p>3) Set your favourite text editor by running the appropriate command
below:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Atom
</span><span style="color:#75715e"></span>git config --global core.editor <span style="color:#d88200">&#34;atom --wait&#34;</span>
<span style="color:#75715e"># nano
</span><span style="color:#75715e"></span>git config --global core.editor <span style="color:#d88200">&#34;nano -w&#34;</span>

<span style="color:#75715e"># Sublime Text (Mac)
</span><span style="color:#75715e"></span>git config --global core.editor
<span style="color:#d88200">&#34;/Applications/Sublime\ Text.app/Contents/SharedSupport/bin/subl -n
</span><span style="color:#d88200">-w&#34;</span>

<span style="color:#75715e"># Sublime Text
</span><span style="color:#75715e"></span><span style="color:#f92672">(</span>Win, <span style="color:#ae81ff">64</span>-bit install<span style="color:#f92672">)</span> git config --global core.editor
<span style="color:#d88200">&#34;&#39;c:/program files/sublime text 3/sublime_text.exe&#39; -w&#34;</span>

<span style="color:#75715e"># Notepad++ (Win, 64-bit install)
</span><span style="color:#75715e"></span>git config --global core.editor
<span style="color:#d88200">&#34;&#39;c:/program files/Notepad++/notepad++.exe&#39; -multiInst -notabbar
</span><span style="color:#d88200">-nosession -noPlugin&#34;</span>

<span style="color:#75715e"># Emacs
</span><span style="color:#75715e"></span>git config --global core.editor <span style="color:#d88200">&#34;emacs&#34;</span>

<span style="color:#75715e"># Vim
</span><span style="color:#75715e"></span>git config --global core.editor <span style="color:#d88200">&#34;vim&#34;</span></code></pre></div>
<p>4) We&rsquo;re going to create a folder with the command &ldquo;mkdir&rdquo;, and change into that directory with &ldquo;cd&rdquo;.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#111">cd</span> ~
mkdir project
<span style="color:#111">cd</span> project</code></pre></div>
<p>5) Now, we make the folder into a git repository. This means that git will start to keep track
of files created in the folder.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git init</code></pre></div>
<p>6) The command &ldquo;ls&rdquo; shows the directories contents. If we use the command &ldquo;ls -a&rdquo; - the &ldquo;-a&rdquo; flag means
that we see hidden files, shows us that a new folder called &ldquo;.git&rdquo; has been created.</p>

<p>7) We can run</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git status</code></pre></div>
<p>to show that everything has worked correctly. You should see something like:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> <span style="color:#75715e"># On branch master
</span><span style="color:#75715e"></span> <span style="color:#75715e">#
</span><span style="color:#75715e"></span> <span style="color:#75715e"># Initial commit
</span><span style="color:#75715e"></span> <span style="color:#75715e"># nothing to commit
</span><span style="color:#75715e"></span> <span style="color:#f92672">(</span>create/copy files and use <span style="color:#d88200">&#34;git add&#34;</span> to track<span style="color:#f92672">)</span></code></pre></div>
<p>8) Let&rsquo;s create a file; open the text editor you chose earlier, and
save a file called &ldquo;workshop.txt&rdquo; in the directory you&rsquo;re in.</p>

<p>Write something in the file:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">I&#39;m learning how to use Version Control with Git!</code></pre></div>
<p>and save it.</p>

<p>9) Now, let&rsquo;s try running &lsquo;git status&rsquo; again. What you should see is
that now, changes you&rsquo;ve made show up.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"> On branch master

 No commits yet

 Untracked files: <span style="color:#f92672">(</span>use <span style="color:#d88200">&#34;git add &lt;file&gt;...&#34;</span> to include in what will be
 committed<span style="color:#f92672">)</span>

 workshop.txt

 nothing added to commit but untracked files present <span style="color:#f92672">(</span>use <span style="color:#d88200">&#34;git add&#34;</span> to
 track<span style="color:#f92672">)</span></code></pre></div>
<p>An untracked file is just a file that we haven&rsquo;t told Git to watch in
any way.  To track the file we created, we use the command:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git add workshop.txt</code></pre></div>
<p>Doing &ldquo;git status&rdquo; again:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">On branch master

No commits yet

Changes to be committed: <span style="color:#f92672">(</span>use <span style="color:#d88200">&#34;git rm --cached &lt;file&gt;...&#34;</span> to unstage<span style="color:#f92672">)</span>

  new file: workshop.txt</code></pre></div>
<p>10) Now, we&rsquo;re going to &lsquo;commit&rsquo; our changes - basically, take a
snapshot of them at this particular time.</p>

<p>You have two options</p>

<p>i) Run the command</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git commit</code></pre></div>
<p>This will bring up the text editor you chose earlier. Type a message
about the changes you have made so that the file looks something like
this:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Added text to workshop.txt</code></pre></div>
<p>Now save the file.</p>

<p>ii) Alternatively, skip opening the text editor with:</p>

<p>git commit -m &ldquo;Added text to workshop.txt&rdquo;</p>

<p>11) Now make some more changes - add another line of text to the file
workshop.txt, and commit them again.</p>

<p>12) Now we&rsquo;re going to look at the record we&rsquo;ve made so far. Try
runningt the command:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash git log ```" data-lang="bash git log ```">What you should see is something like the following:

```bash commit 3ef8ea1e42fc071b8f8121ba80419b9df6f5d983 (HEAD -&gt;
master) Author: Ryan Pepper &lt;ryan.pepper@soton.ac.uk&gt; Date: Wed Oct 24
15:04:12 2018 +0100

    Added more text to workshop.txt

commit dc6b701bcdbff38fa8a9800f8173f88d514090ac Author: Ryan Pepper
&lt;ryan.pepper@soton.ac.uk&gt; Date: Wed Oct 24 14:17:36 2018 +0100

    Add text to workshop.txt ```

Breaking this down - there are two sections, for the two commits
you&#39;ve made so far, ordered from newest to oldest.

The big long strings are a label for a particular set of changes.
Author and date are self-explanatory, and the text below that is the
message

13) Now, let&#39;s say that you need to go back in time and look at how the
file looked some time ago. We could just delete the text, but in more
complicated cases, that&#39;s not sufficient. There is an easy way to go
back.

Copy about 10 or so of the first letters and numbers of the commit
that you want to see. Then run the command:

```bash git checkout dc6b701bcdbff ```

You will see some output:

``` Note: checking out &#39;dc6b701bcdbff38f&#39;.

You are in &#39;detached HEAD&#39; state. You can look around, make
experimental changes and commit them, and you can discard any commits
you make in this state without impacting any branches by performing
another checkout.

14) If you want to create a new branch to retain commits you create, you
may do so (now or later) by using -b with the checkout command
again. Example:

  git checkout -b &lt;new-branch-name&gt;

HEAD is now at dc6b701 Add text to workshop.txt</code></pre></div>
<p>You&rsquo;re now in a working environment with the old set of changes - if
you open the file again, you can see the latest committed changes have
disappeared. Don&rsquo;t worry! They&rsquo;re safe. You&rsquo;re in something called a
&lsquo;detached HEAD&rsquo; state. This is often a source of a lot of confusion
for people new to Git, because if you make commits in this state, they
will get lost.</p>

<p>Now is a good time to introduce the concept of a branch. Branches are
basically a parallel stream of commits that you can work on
seperately, and switch to at any time. The &ldquo;main&rdquo; branch - the master
copy of the history is known as the &ldquo;master&rdquo; branch. You can have as
many branches as you like in a repository. The main use case is for
fixing bugs or From the detached head state, or any other place, you
can create a branch by running:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git checkout -b mynewbranch</code></pre></div>
<p>Git checkout is for switching between branches; the &ldquo;-b&rdquo; flag creates new ones.</p>

<p>15) From here, we can make changes. Add some more text in the file
workshop.txt and commit the changes.</p>

<p>You can switch back to the original history by running the command:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git checkout master</code></pre></div>
<p>16) Now you can try and merge the branch into the &lsquo;master&rsquo; branch. To do
this, run the command:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git merge mybranch</code></pre></div>
<p>However, you may see an error message:</p>

<pre><code>Auto-merging workshop.txt
CONFLICT (content): Merge conflict in workshop.txt
Automatic merge failed; fix conflicts and then commit the result.
</code></pre>

<p>What this means is that Git cannot automatically reconcile the
differences between the version of the file in your new branch, and
the version of the file in your master branch. This is called a &lsquo;merge
conflict&rsquo; That means you manually need to edit the file. Edit the file
and you will see three odd lines with special markers:</p>

<pre><code>Hello, we've got a file in here!

&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Added a line of text on the branch!
=======
Added another line to the file.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; mybranch
</code></pre>

<p>The &ldquo;&lt;&lt;&lt;&lt;&lt; HEAD&rdquo; means that what follows is text on the head of the
current branch - i.e. mynewbranch.</p>

<p>The &ldquo;=======&rdquo; acts as a seperator</p>

<p>The &ldquo;&gt;&gt;&gt;&gt;&gt; master&rdquo; signals the end of the conflicting changes on the
master branch.</p>

<p>To reconcile, simply delete these three lines, and save the file. Do a
&lsquo;git add&rsquo; and then &lsquo;git commit&rsquo;</p>

<h1 id="storing-your-repository-somewhere-safe">Storing your repository somewhere safe</h1>

<p>You have a history of your changes locally, but that&rsquo;s not much good
if your hard drive fails.  We&rsquo;ll now show you how keep a history
remotely.</p>

<p>Git is known as a &lsquo;distributed version control&rsquo; system. Generally, you
host a repository somewhere online. There are lots of different
providers for this.</p>

<ul>
<li><p>GitHub - free! Lots of integrations with other services. Limited
number or private repositories, but you can send off proof of academic
status to get an unlimited number.</p></li>

<li><p>GitLab - also free. Unlimited number of private repositories.  Also
allows local hosting - for e.g. in the University of Southampton,
there is a private GitLab instance hosted internally, which can be
used for sensitive projects.</p></li>

<li><p>BitBucket - Has a lot of commercial products that are used in
industry - good issue trackers.</p></li>
</ul>

<p>For this exercise, we&rsquo;ll use GitHub, but in practice there is not much
between them.</p>

<p>1) Create an account on github.com</p>

<p>2) Once done, click the &ldquo;+&rdquo; arrow in the top right hand corner, and click &ldquo;New repository&rdquo;</p>

<p>3) Type in a name and description for your repository:</p>

<p><img src="drawing.jpg" alt="Image showing repository creation" style="width:300px;"/></p>

<p>You&rsquo;ll now get a list of commands to type; the ones you want are:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git remote add origin https://github.com/rpep/mytestrepo.git
git push -u origin master</code></pre></div>
<p>You&rsquo;ll get asked for your username and password for GitHub - enter these.</p>

<p>Now refresh the page, and you&rsquo;ll see the file you had has appeared online!</p>

<p>4) Now - in pairs - one of you go to the Git repository of your neighbour. This will be</p>

<p><a href="https://github.com/their-username/their-repository-name">https://github.com/their-username/their-repository-name</a></p>

<p>Click &lsquo;Fork&rsquo;. This will make a copy of their repository on your GitHub.</p>

<p>5) Now, copy their repository to your computer with the command:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clone https://github.com/yourusername/their-repository-name.git</code></pre></div>
<p>6) Move into the folder:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#111">cd</span> their-repository-name</code></pre></div>
<p>And make your own change to the file.</p>

<p>7) Commit it as before:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git commit -m <span style="color:#d88200">&#34;Making a change to my partner&#39;s repository&#34;</span></code></pre></div>
<p>8) Now push the change online:</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git push</code></pre></div>
<p>9) Go back to GitHub.</p>

<p>Click &ldquo;New Pull Request, and then &ldquo;Create New Pull Request&rdquo; on the next page.</p>

<p>Add in some information about the changes you made, and then &ldquo;Create pull request&rdquo;</p>

<p>10) Now, your partner needs to go back to their version of the repository, and look at
    the tab labelled &ldquo;Pull Requests&rdquo;</p>

<p>Scroll to the bottom, and then press &ldquo;Merge pull request&rdquo;</p>



    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/introduction/" title="Software Engineering in Science"> <i class="fa fa-chevron-left"></i><label>Software Engineering in Science</label></a>
    <a class="nav nav-next" href="/containers/" title="Containers" style="margin-right: 0px;"><label>Containers</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    
    <div class="date">
        <i class='fa fa-calendar'></i> Last update on 25/10/2018
    </div>
    

    
    <div class="github-link">
      <a href="https://github.com/vjeantet/hugo-theme-docdock/edit/master/exampleSite/content/version-control/_index.md" target="blank"><i class="fa fa-code-fork"></i>
        Improve this page</a>
    </div>
    
  </div>


	<div>


  
    Create a content/_footer.md file to customize the footer content
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>